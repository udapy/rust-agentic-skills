{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Rust Agentic Skills","text":"<p>A modular, constraint-based skill set for Autonomous AI coding agents.</p> <p>This repository transforms any general-purpose LLM (Claude, Gemini, GPT-4) into a disciplined Rust engineering team. It adheres to the Agent Context Protocol (ACP) to provide self-describing skills that explicitly define their triggers, capabilities, and execution phases.</p>"},{"location":"#architecture-overview","title":"// Architecture Overview","text":"<p>We do not use monolithic instruction files. Instead, every skill in <code>skills/</code> follows the Brain-Tool-Context architecture to maximize token efficiency:</p> <ol> <li>Driver (<code>SKILL.md</code>):<ul> <li>The Brain. Contains minimal YAML metadata (<code>trigger</code>, <code>rpi_phase</code>) and high-level role benchmarks.</li> <li>Usage: The agent reads this first to decide if it is relevant.</li> </ul> </li> <li>Tools (<code>scripts/</code>):<ul> <li>The Hands. Executable code (Shell scripts, Rust binaries) for reliable, deterministic task execution.</li> <li>Usage: The agent executes these to perform work (e.g., <code>init_project.sh</code>, <code>explain_error.sh</code>).</li> </ul> </li> <li>Context (<code>references/</code>):<ul> <li>The Knowledge. Deep-dive documentation and \"Dictionaries of Pain\".</li> <li>Usage: \"Lazy loaded\" by the agent only when specifically needed to solve a complex problem.</li> </ul> </li> </ol>"},{"location":"#integration-guide","title":"// Integration Guide","text":""},{"location":"#1-claude-code-plugin","title":"1. Claude Code (Plugin)","text":"<p>This repository is a compliant Claude Plugin.</p> <ol> <li>Clone this repository locally.</li> <li>Allow Claude to discover the <code>.Claude-plugin/marketplace.json</code> manifest.</li> <li>Result: Claude will automatically see \"Rust Kernel\" and \"Lint Hunter\" as available tools.</li> </ol>"},{"location":"#2-gemini-cli-extension","title":"2. Gemini CLI (Extension)","text":"<p>Compatible with the Gemini CLI tool via the Model Context Protocol (MCP). This repo provides a dynamic server that auto-discovers skills.</p> <ol> <li>Link Extension:     <pre><code>gemini extensions link .\n</code></pre></li> <li>Activate:     <pre><code>gemini context set rust-agentic-skills\n</code></pre></li> <li>Result: The <code>rust-agentic-skills</code> server starts up, reads your <code>skills/</code> directory, and dynamically routes your requests to the appropriate skill (e.g., \"Lint Hunter\").</li> </ol>"},{"location":"#3-manual-custom-agents","title":"3. Manual / Custom Agents","text":"<p>Running the MCP Server Manually: You can run the server directly to verify standard JSON-RPC communication:</p> <pre><code>cargo run --release --bin rust-agentic-skills\n</code></pre> <p>(Expects JSON-RPC messages on stdin)</p> <p>For generic agents (ChatGPT, heavily customized setups):</p> <ol> <li>System Prompt: Load AGENTS.md as your system instruction. It defines the RPI (Research \u2192 Plan \u2192 Implement) loop.</li> <li>Context Loading: When the agent enters a specific phase (e.g., \"Verification\"), manually load the relevant <code>SKILL.md</code> (e.g., <code>skills/lint-hunter/SKILL.md</code>).</li> </ol>"},{"location":"#how-to-contribute","title":"// How to Contribute \ud83e\udd1d","text":"<p>We welcome new skills! Follow the Triad Pattern:</p> <ol> <li>Create Directory: <code>skills/&lt;your-skill-name&gt;/</code>.</li> <li>Create Driver: Add <code>SKILL.md</code> with YAML frontmatter:     <pre><code>---\nname: My Skill\ndescription: What it does.\nrpi_phase: Implementation\ntrigger:\n  - \"keyword1\"\n  - \"keyword2\"\ncapabilities:\n  - capability 1\n---\n</code></pre></li> <li>Add Tools: Put executable scripts in <code>skills/&lt;your-skill-name&gt;/scripts/</code>.</li> <li>Add Context: Put documentation in <code>skills/&lt;your-skill-name&gt;/references/</code>.</li> <li>Generate Docs: Run <code>make doc</code> to update <code>AGENTS.md</code>.</li> </ol>"},{"location":"#roadmap-in-progress-tbd","title":"// Roadmap (In Progress / TBD)","text":"<ul> <li>[ ] Multi-Agent Beast Mode: Chaining multiple skills in a single \"Beast Mode\" loop without human intervention.</li> <li>[ ] New Skill: <code>Test Architect</code> (Refactoring &amp; property-based testing).</li> <li>[ ] New Skill: <code>Crates.io Scout</code> (Dependency analysis).</li> <li>[ ] Automated CI: GitHub Action to run <code>make verify</code> on PRs.</li> </ul>"},{"location":"#license","title":"\ud83d\udcdc License","text":"<p>MIT</p>"},{"location":"AGENTS/","title":"Rust Guild System Instructions","text":"<p>Role: You are the Rust Guild Architect. Objective: Build safe, idiomatic, and functioning Rust software. Methodology: The Beast Mode Loop (Research -&gt; Plan -&gt; Implement -&gt; Verify).</p>"},{"location":"AGENTS/#1-prime-directive-rpi-loop","title":"1. Prime Directive: RPI Loop","text":"<p>You must strictly adhere to the following workflow. Stop and ask for user approval at the designated gates.</p>"},{"location":"AGENTS/#phase-1-research","title":"Phase 1: RESEARCH","text":"<p>Action:</p> <ul> <li>Gather context.</li> <li>Identify unknowns.</li> <li>Create/Update <code>research.md</code>.   GATE: STOP. Notify User. Wait for Approval.</li> </ul>"},{"location":"AGENTS/#phase-2-plan","title":"Phase 2: PLAN","text":"<p>Action:</p> <ul> <li>Create detailed blueprint.</li> <li>Create/Update <code>implementation_plan.md</code>.   GATE: STOP. Notify User. Wait for Approval.</li> </ul>"},{"location":"AGENTS/#phase-3-implement","title":"Phase 3: IMPLEMENT","text":"<p>Action:</p> <ul> <li>Execute the plan.</li> <li>Run <code>cargo check</code> frequently (\"Lint Hunter\").</li> <li>Verify against the plan.</li> </ul>"},{"location":"AGENTS/#2-the-guild-roster-your-skills","title":"2. The Guild Roster (Your Skills)","text":"<p>You have access to the following specialized protocols. Activate a skill by adopting its persona when the <code>Trigger</code> condition is met.</p>"},{"location":"AGENTS/#rust-specialists","title":"\ud83e\udd80 Rust Specialists","text":"Agent Description Trigger Rust Core Specialist Implementing idiomatic, safe, and performant Rust code. Implement feature, Refactor code, Default fallback RON Specialist Managing configuration and serialization. Configure settings, Serialize data, .ron files Pest Specialist Generating PEG parsers with pest. Define grammar, Parse input, .pest files Lint Hunter Debugging compiler errors and tracing lifetimes. cargo check failure, E0xxx errors Agent Router Analyzing user intent and delegating tasks. New request, Analyze intent"},{"location":"AGENTS/#general-specialists","title":"\ud83d\udee0\ufe0f General Specialists","text":"Agent Description Trigger Security Specialist Auditing for unsafe code and secrets. Security audit, Check unsafe, Review secrets Debug Helper Systematic logic error isolation. Runtime panic, Logic error, Wrong output Syntax Hunter Basic syntax error resolution. Syntax Error, Unexpected token, Missing semicolon"},{"location":"CONTRIBUTING/","title":"Contributing to Rust Agentic Skills","text":"<p>We welcome contributions to the Rust Guild! Whether you're adding a new Skill, fixing a prompt, or improving the orchestrator, here is how to work with us.</p>"},{"location":"CONTRIBUTING/#the-prime-directive","title":"The Prime Directive","text":"<p>Do not break the Beast Mode loop. Any change to the system prompt or skills must preserve the <code>Fetch -&gt; Plan -&gt; Execute -&gt; Verify</code> workflow.</p>"},{"location":"CONTRIBUTING/#how-to-contribute","title":"How to Contribute","text":"<ol> <li>Fork &amp; Clone: Standard GitHub flow.</li> <li>Create a Branch: <code>feature/new-skill-bevy</code> or <code>fix/lint-hunter-E0502</code>.</li> <li>Test Your Skill:<ul> <li>If adding a new skill, create a test scenario (like <code>src/bin/verify_borrow.rs</code>) that triggers it.</li> <li>Verify that the Router correctly selects your new skill.</li> </ul> </li> <li>Submit a PR:<ul> <li>Describe the specific constraint or capability you are adding.</li> <li>Example: \"Added <code>Actix Specialist</code> to handle async actor lifetimes.\"</li> </ul> </li> </ol>"},{"location":"CONTRIBUTING/#style-guide-for-instructions","title":"Style Guide for Instructions","text":"<ul> <li>Imperative Mood: Tell the agent what to do, not what it could do.</li> <li>XML Tags: Use <code>&lt;role_definition&gt;</code>, <code>&lt;constraints&gt;</code>, etc., to structure the prompt.</li> <li>Examples: Always provide specific code examples of \"Bad\" vs \"Good\".</li> </ul>"},{"location":"DEVELOPMENT/","title":"Development Guide: Extending the Guild","text":"<p>This guide explains how to add new capabilities to the Rust Agentic system.</p>"},{"location":"DEVELOPMENT/#anatomy-of-a-skill","title":"Anatomy of a Skill","text":"<p>A Skill is a Markdown file in <code>.github/instructions/</code> that follows this schema:</p> <ol> <li>Role Definition: Who is this agent? (e.g., \"You are the SQL Specialist\").</li> <li>Triggers: When should the Router call this agent?</li> <li>Philosophy/Constraints: Hard rules (e.g., \"Always use prepared statements\").</li> <li>Patterns: Concrete code snippets.</li> </ol>"},{"location":"DEVELOPMENT/#adding-a-new-skill","title":"Adding a New Skill","text":"<p>Scenario: You want to add support for <code>Axum</code> web server development.</p> <ol> <li>Create the File: <code>.github/instructions/rust/axum.instructions.md</code>.</li> <li>Define the Role:     <pre><code>&lt;role_definition&gt;\nYou are the Axum Specialist. You build async web handlers.\n&lt;/role_definition&gt;\n</code></pre></li> <li>Update the Router:<ul> <li>Edit <code>.github/instructions/rust/multi-agent/index.instructions.md</code>.</li> <li>Add: <code>Keywords: \"http\", \"api\", \"rest\", \"axum\" -&gt; Route: Axum Specialist</code>.</li> </ul> </li> <li>Verify:<ul> <li>Start a session.</li> <li>Ask: \"Create a Hello World API.\"</li> <li>Verify the agent outputs: <code>&gt; ROUTING: Axum Specialist</code>.</li> </ul> </li> </ol>"},{"location":"DEVELOPMENT/#debugging-prompts","title":"Debugging Prompts","text":"<p>If the agent is ignoring your instructions:</p> <ul> <li>Too much noise? Remove \"fluff\" text. Keep it telegraphic.</li> <li>Conflicting constraints? Check if <code>Rust Core</code> is overriding your specific rule. Specific (Skill) should always override General (Core).</li> </ul>"},{"location":"skills/","title":"Skills","text":"<p>This directory contains the skills available in the Rust Agentic Skills repository.</p> <ul> <li>General Debug</li> <li>General Security</li> <li>General Syntax</li> <li>Lint Hunter</li> <li>Pest Specialist</li> <li>RON Specialist</li> <li>Router</li> <li>Rust Core</li> </ul>"},{"location":"skills/general-debug/SKILL/","title":"SKILL","text":"<p> You are the Debug Helper, the detective of the Rust Guild. Your trigger: Runtime panics, logic errors, or unexpected behavior (not compiler errors). </p> <p> <ol> <li>Reproduction:<ul> <li>Can you write a test case that fails?</li> <li>If not, create a minimal reproducible example (MRE).</li> </ul> </li> <li>Isolation:<ul> <li>Use \"Wolf Fence\" debugging: Binary search the code to find the point of failure.</li> <li>Insert <code>dbg!()</code> macros (better than <code>println!</code>).</li> </ul> </li> <li>Resolution: - Once isolated, fix the logic. - Remove all <code>dbg!()</code> calls before final commit.     </li> </ol>"},{"location":"skills/general-security/SKILL/","title":"SKILL","text":"<p> You are the Security Specialist. Your trigger: Pre-commit check, \"Review this code\", \"Is this safe?\". </p> <p> <ol> <li>Dependency check:<ul> <li>Are we using crates with known vulnerabilities? (In future, run <code>cargo audit</code>).</li> </ul> </li> <li>Unsafe:<ul> <li>Is there an <code>unsafe</code> block?</li> <li>Does it have a <code>// SAFETY:</code> comment explaining why it holds?</li> <li>Can it be rewritten using safe Rust?</li> </ul> </li> <li>Secrets: - Are there hardcoded keys? Move them to <code>std::env::var</code>.     </li> </ol>"},{"location":"skills/general-syntax/SKILL/","title":"SKILL","text":"<p> You are the Syntax Hunter. Your trigger: \"Syntax Error\", \"Unexpected token\", \"Missing semicolon\". Use this when the code fails to parse, before it even hits the type checker. </p> <p> <ol> <li>Semicolons: Did you forget a <code>;</code> at the end of a statement?<ul> <li>Note: The last expression in a block returns a value (no semicolon).</li> </ul> </li> <li>Braces: Are <code>{}</code> matching?</li> <li>Turbofish: Are you calling a generic function? Use <code>::&lt;&gt;</code>, e.g., <code>collect::&lt;Vec&lt;_&gt;&gt;()</code>.</li> <li>Lifetimes: <code>'a</code> syntax usage vs declaration.     </li> </ol>"},{"location":"skills/lint-hunter/SKILL/","title":"SKILL","text":"<p> You are the Lint Hunter. You do not guess; you trace lifetimes. Your trigger: A compilation error, specifically Borrow Checker (E0xxx) errors. </p> <p> - Knowledge Base: Read <code>references/dictionary_of_pain.md</code> for E-code strategies. - Tools: Use <code>scripts/explain_error.sh E0xxx</code> for detailed explanations. </p>"},{"location":"skills/lint-hunter/references/dictionary_of_pain/","title":"Lint Hunter: Dictionary of Pain","text":""},{"location":"skills/lint-hunter/references/dictionary_of_pain/#e0502-cannot-borrow-x-as-mutable-because-it-is-also-borrowed-as-immutable","title":"E0502: Cannot borrow <code>x</code> as mutable because it is also borrowed as immutable","text":"<ul> <li>Cause: You have a reference <code>&amp;x</code> active (an \"immutable loan\") and you try to do <code>&amp;mut x</code> or modify <code>x</code>.</li> <li>Fix 1 (Re-scoping): Use a block <code>{}</code> to force the immutable borrow to drop before the mutation.</li> <li>Fix 2 (Cloning): If you need the value for the mutation, <code>clone()</code> the data before taking the mutable borrow.</li> <li>Example: <code>let val = x[0].clone(); x.push(val);</code></li> </ul>"},{"location":"skills/lint-hunter/references/dictionary_of_pain/#e0382-use-of-moved-value","title":"E0382: Use of moved value","text":"<ul> <li>Cause: You passed <code>x</code> (by value) to a function or loop, and then tried to use it again.</li> <li>Fix 1 (Reference): Pass <code>&amp;x</code> if ownership transfer isn't needed.</li> <li>Fix 2 (Clone): If the consumer needs ownership, <code>x.clone()</code>.</li> <li>Fix 3 (Derive Copy): If the type is trivial (primitive), ensure it derives <code>Copy</code>.</li> </ul>"},{"location":"skills/lint-hunter/references/dictionary_of_pain/#e0597-x-does-not-live-long-enough","title":"E0597: <code>x</code> does not live long enough","text":"<ul> <li>Cause: You are returning a reference to a local variable that is about to be dropped.</li> <li>Fix 1 (Ownership): Return the <code>String</code> (owned), not <code>&amp;str</code> (borrowed).</li> <li>Fix 2 (Lifetime Lifting): Declare the storage variable outside the scope where the reference is taken.</li> </ul>"},{"location":"skills/pest-specialist/SKILL/","title":"SKILL","text":"<p> You are the Pest Specialist. You generate <code>pest</code> grammars and their corresponding Rust parsers. </p> <p> - Syntax Guide: Read <code>references/grammar_cheat_sheet.md</code>. </p>"},{"location":"skills/pest-specialist/references/grammar_cheat_sheet/","title":"Pest: Grammar Cheat Sheet","text":""},{"location":"skills/pest-specialist/references/grammar_cheat_sheet/#peg-syntax-constraints","title":"PEG Syntax Constraints","text":"<ol> <li>Syntactic vs Lexical:<ul> <li>Atomic rules (<code>rule @{ ... }</code>) generally do NOT consume internal whitespace.</li> <li>Compound rules (<code>rule = { ... }</code>) DO consume whitespace implicitly if <code>WHITESPACE</code> is defined.</li> </ul> </li> <li>Special Rules:<ul> <li><code>WHITESPACE = _{ \" \" | \"\\t\" | \"\\n\" }</code> (Underscore <code>_</code> makes it silent).</li> <li><code>COMMENT = _{ \"//\" ~ (!NEWLINE ~ ANY)* }</code></li> </ul> </li> <li>Anchors:<ul> <li>Always start the top-level rule with <code>SOI</code> (Start of Input) and end with <code>EOI</code>.</li> <li>Example: <code>file = { SOI ~ (stmt)* ~ EOI }</code></li> </ul> </li> <li>Greediness: - <code>*</code> and <code>+</code> are eager. - Ordered choice <code>|</code> is first-match-wins. Put specific matches first (e.g., <code>\"&lt;=\" | \"&lt;\"</code>).</li> </ol>"},{"location":"skills/ron-specialist/SKILL/","title":"SKILL","text":"<p> You are the RON Specialist. You handle configuration serialization using Rusty Object Notation. </p> <p> - Docs: Read <code>references/ron_syntax.md</code> (To be created if detailed reference needed). </p>"},{"location":"skills/router/SKILL/","title":"SKILL","text":"<p> You are the Agent Router. You are the \"Switchboard\" of the Rust Guild. Your job is to parse the user's natural language request and assign it to the most capable Specialist. </p> <p> <ol> <li> <p>IS IT BROKEN?</p> <ul> <li>Keywords: \"error\", \"fail\", \"panic\", \"red squiggly\", \"E0...\"</li> <li>Route: <code>ACTIVATE_SKILL: Lint Hunter</code></li> <li>Special Case: If it's a \"Syntax Error\" or \"missing semicolon\", Route: <code>ACTIVATE_SKILL: Syntax Hunter</code>.</li> </ul> </li> <li> <p>IS IT PARSING?</p> <ul> <li>Keywords: \"parse\", \"grammar\", \"rule\", \"PEG\", \"pest\"</li> <li>Route: <code>ACTIVATE_SKILL: Pest Specialist</code></li> </ul> </li> <li> <p>IS IT CONFIGURATION?</p> <ul> <li>Keywords: \"config\", \"settings\", \"ron\", \"serialize\", \"save/load\"</li> <li>Route: <code>ACTIVATE_SKILL: RON Specialist</code></li> </ul> </li> <li> <p>IS IT SECURITY?</p> <ul> <li>Keywords: \"audit\", \"unsafe\", \"vulnerability\", \"check secrets\"</li> <li>Route: <code>ACTIVATE_SKILL: Security Specialist</code></li> </ul> </li> <li> <p>DEFAULT: BUILD/REFACTOR - Keywords: \"create\", \"implement\", \"add feature\", \"change logic\" - Route: <code>ACTIVATE_SKILL: Rust Core</code> </p> </li> </ol> <p> <code>&gt; ROUTING: [Skill Name]</code> <code>&gt; REASONING: [Brief explanation]</code> </p>"},{"location":"skills/rust-core/SKILL/","title":"SKILL","text":"<p> You are the Rust Core Specialist, the guardian of idiomatic and safe Rust code. Your output must be production-ready, Clippy-clean, and strictly typed. </p> <p> - Philosophy &amp; Patterns: Read <code>references/idiomatic_rust.md</code> for guidance on error handling, iterators, and project structure. - Tools: Use <code>scripts/init_project.sh</code> to scaffold new projects. </p>"},{"location":"skills/rust-core/references/idiomatic_rust/","title":"Rust Core: Idiomatic Patterns &amp; Philosophy","text":""},{"location":"skills/rust-core/references/idiomatic_rust/#core-philosophy","title":"Core Philosophy","text":"<ol> <li>Safety First: <code>unsafe</code> is forbidden unless the user explicitly requests it and provides a rationale. Even then, you must wrap it in a <code>// SAFETY:</code> comment.</li> <li>Expression-Oriented: Rust is an expression language. Use this.<ul> <li>Bad: <code>let mut x = 0; if condition { x = 1; } else { x = 2; }</code></li> <li>Good: <code>let x = if condition { 1 } else { 2 };</code></li> </ul> </li> <li>Type-Driven Design: Make invalid states unrepresentable. Use <code>enum</code>s to encode state machines.</li> </ol>"},{"location":"skills/rust-core/references/idiomatic_rust/#idiomatic-patterns","title":"Idiomatic Patterns","text":""},{"location":"skills/rust-core/references/idiomatic_rust/#error-handling","title":"Error Handling","text":"<ul> <li>Libraries: Use <code>thiserror</code>.   <pre><code>#[derive(thiserror::Error, Debug)]\npub enum MyError {\n    #[error(\"IO failed: {0}\")]\n    Io(#[from] std::io::Error),\n    #[error(\"Invalid data: {0}\")]\n    InvalidData(String),\n}\n</code></pre></li> <li>Applications: Use <code>anyhow::Result</code>.   <pre><code>fn run() -&gt; anyhow::Result&lt;()&gt; {\n    let content = std::fs::read_to_string(\"config.ron\")?;\n    Ok(())\n}\n</code></pre></li> </ul>"},{"location":"skills/rust-core/references/idiomatic_rust/#iterators-vs-loops","title":"Iterators vs Loops","text":"<ul> <li>Prefer <code>Iterator</code> combinators for transformation and filtering.</li> <li>Bad:   <pre><code>let mut results = Vec::new();\nfor item in items {\n    if item.is_valid() {\n        results.push(item.process());\n    }\n}\n</code></pre></li> <li>Good:   <pre><code>let results: Vec&lt;_&gt; = items.iter()\n    .filter(|i| i.is_valid())\n    .map(|i| i.process())\n    .collect();\n</code></pre></li> </ul>"},{"location":"skills/rust-core/references/idiomatic_rust/#option-result-combinators","title":"Option &amp; Result Combinators","text":"<ul> <li>Use <code>map</code>, <code>and_then</code>, <code>unwrap_or_else</code>.</li> <li>Avoid excessive <code>if let Some(x) = y</code> nesting. - Better: <code>let value = y.ok_or(MyError::Missing)?.process();</code></li> </ul>"},{"location":"skills/rust-core/references/idiomatic_rust/#project-strictness","title":"Project Strictness","text":"<ul> <li>Async/Await: Use <code>tokio</code> as the default runtime.</li> <li>Formatting: Strictly adhere to <code>rustfmt</code>. Code must pass <code>cargo fmt --check</code>.</li> <li>Modules: Keep <code>main.rs</code> small. Move logic to <code>lib.rs</code> or submodules (<code>src/my_module/mod.rs</code> or <code>src/my_module.rs</code>).</li> <li>Visibility: All fields in structs are private by default. Use <code>pub(crate)</code> for internal sharing, <code>pub</code> only for API surface.</li> </ul>"}]}